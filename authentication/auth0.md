---
layout: article
title: Criipto Documentation - Add Criipto Verify to Auth0
description: Add Criipto Verify as an OIDC Connection to your Auth0 tenant
---

# Auth0

This tutorial demonstrates how to integrate Criipto Verify with Auth0. Following steps are required to complete your first login:

1. [Register your Auth0 tenant in Criipto Verify](#register)
2. [Configure your OAuth2 flow](#enable)
3. [Create Auth0 connections](#auth0-connection)
4. [Integrate your application with Auth0](#integrate)

In the following you will be configuring first Criipto Verify, then Auth0, and finally finishing the Criipto Verify configuration
with the information you get from Auth0. Once configured you may test that everything works from Auth0.


<a name="register"></a>

## Register your Auth0 tenant in Criipto Verify

First, you must register your Auth0 tenant as an application in Criipto Verify.

Once you register your Auth0 tenant, you will also need some of the information for configuring Auth0 to communicate with Criipto Verify. You get these details from the settings of the application in the dashboard.

Specifically you need the following information to integrate with Auth0:

- _Client ID_ to identify your Auth0 tenant to Criipto Verify. In the case below we chose `urn:criipto:samples:no1`
- _Domain_ on which you will be communicating with Criipto Verify. In this article, we use `samples.criipto.id`, but you will have your own dedicated domain. We refer to your specific value below as `<yourdomain.criipto.id>`
- _Client secret_ is needed if you choose the *Back Channel* approach - which we **strongly** recommend that you do, at least until such time that Auth0 starts using the _PKCE_ flow for their *Front Channel* approach. 
The secret is generated and copied as describe further down.

![Register App](/images/register-app.png)

<a name="enable"></a>

## Configure the OAuth2 code flow

{% include snippets/oauth2-code-flow.md %}

<a name="auth0-connection"></a>

## Create Auth0 connection

The next step in setting up the integration between Criipto Verify and Auth0 is to create an Auth0 OpenID Connect connection.

1. Go to Auth0 dashboard for your tenant and under **Authentication** choose **Enterprise**.
2. Select **OpenID Connect** and create a new connection.
3. Enter a **Connection name**.
4. Set the **Issuer URL** to `https://<yourdomain.criipto.id>/.well-known/openid-configuration`
5. Choose _Front Channel_ or _Back Channel_ as a **Type**, depending on how you intend to integrate it with you application.
  -  you should choose _Front Channel_ only if you are developing pure SPA application. In that case, make sure to enable _Callback on location hash_ in Criipto application management, instead  of OAuth2 Code Flow. Otherwise choose _Back Channel_.
6. Under **Client ID** enter **Client ID/Realm** from your Criipto Verify application.
7. If you chose _Back Channel_ as a **Type**, enter **Client Secret** generated by Criipto Verify when you enabled the OAuth2 Code Flow.
8. Copy the **Callback URL** generated by Auth0 and enter it under **Callback URLs** in Criipto Verify application management.
9. Select **Save changes**.
10. Make sure to enable the created connection for your Auth0 application(s).

## Making the choice of login method survive the hop through Auth0

Auth0 will not pass on `acr_values` from your authorize request to upstream identity providers, such as Criipto Verify.
To get around that limitation, Criipto Verify offers a workaround, allowing you to send it in the `login_hint` query parameter, which Auth0 does pass on to upstreams.

The general format is:
```
  login_hint=acr_values:<one of the acr_values from the table below>
```

{% include snippets/login-methods.md %} 

{% iconnote note %}

For example, to trigger the Norwegian BankID login method, you would construct your authorize request to Auth0 with a  `login_hint=acr_values:urn:grn:authn:no:bankid` query parameter.

{% endiconnote %}

<hr />

### Test the connection

To test your OpenID Connect connection, go back to the list of all OpenID Connect connections and select **Try** button on the right side of the connection you want to test.

### Test users

{% include snippets/test-users.md %}

<a name="integrate"></a>

## Integrate your application with Auth0

How to integrate your application with Auth0 depends on the technology you are working with. Refer to the [Auth0 quickstart guide](https://auth0.com/docs/quickstarts/) for more details.